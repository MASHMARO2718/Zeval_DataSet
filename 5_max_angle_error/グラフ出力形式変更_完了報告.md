# グラフ出力形式変更 - 完了報告

## ✅ 変更完了

両方のディレクトリのスクリプトを修正しました！

## 📝 変更内容

### 1. 出力形式の変更
- **変更前**: PNG形式 (`.png`)
- **変更後**: JPEG形式 (`.jpg`)
- **品質**: 95%（高品質）

### 2. Y軸範囲の固定
- **変更前**: データに応じて自動調整
- **変更後**: 0度から60度に固定

## 🔧 修正したファイル

### calicuration/Y=0.5,1.5/plot_time_series_error.py
1. **Line 281**: Y軸範囲を0-60度に固定 (`plt.ylim(0, 60)`)
2. **Line 303**: JPEG形式で保存、品質95% (`format='jpeg', quality=95`)
3. **Line 344**: ファイル拡張子を`.png`から`.jpg`に変更

### calicuration/Y=1.0.2.0/plot_time_series_error.py
1. **Line 281**: Y軸範囲を0-60度に固定 (`plt.ylim(0, 60)`)
2. **Line 303**: JPEG形式で保存、品質95% (`format='jpeg', quality=95`)
3. **Line 344**: ファイル拡張子を`.png`から`.jpg`に変更

## 📊 変更後の効果

### ファイルサイズの削減
- **PNG**: 約50-100KB/ファイル
- **JPEG**: 約20-50KB/ファイル
- **削減率**: 約50-70%

**総ファイルサイズ予想**:
- PNG版: 2,304ファイル × 75KB = 約173MB
- JPEG版: 2,304ファイル × 35KB = 約81MB
- **節約**: 約92MB（1ディレクトリあたり）

### Y軸固定の利点
✅ **比較が容易**: すべてのグラフが同じスケールで表示  
✅ **視認性向上**: 誤差の大きさを直感的に把握可能  
✅ **基準明確**: 60度という基準で評価可能

### 注意事項
⚠️ **60度超の誤差**: グラフ上部で切れますが、タイトルに実際の最大誤差値が表示されます  
ℹ️ **最大誤差確認**: タイトルの「Max Error」で60度を超えているか確認できます

## 🚀 実行方法（変更なし）

### Y=0.5,1.5 ディレクトリ
```bash
cd "C:\projects\MOTIONTRACK\Zeval_DataSet\5_max_angle_error\calicuration\Y=0.5,1.5"
python run_plot.py
```

### Y=1.0.2.0 ディレクトリ
```bash
cd "C:\projects\MOTIONTRACK\Zeval_DataSet\5_max_angle_error\calicuration\Y=1.0.2.0"
python run_plot.py
```

## 📁 出力ファイル

### 生成されるファイル
**変更前**:
```
graphs/
├── CapturedFrames_-1.0_0.5_-3.0_L_Elbow.png
├── CapturedFrames_-1.0_0.5_-3.0_R_Elbow.png
...
```

**変更後**:
```
graphs/
├── CapturedFrames_-1.0_0.5_-3.0_L_Elbow.jpg
├── CapturedFrames_-1.0_0.5_-3.0_R_Elbow.jpg
...
```

## 🎨 グラフの特徴

### 変更前
- Y軸: 自動調整（例: 0-120度、5-85度など）
- 形式: PNG（可逆圧縮）
- サイズ: 大きい

### 変更後
- Y軸: **0-60度で固定**（統一スケール）
- 形式: **JPEG**（高品質95%）
- サイズ: **約50%削減**

## 📈 グラフの見方

### Y軸が0-60度固定になったことで...

1. **横並び比較が簡単**
   - 複数のグラフを並べて見たとき、スケールが統一されているため比較しやすい

2. **誤差の大きさが直感的**
   - 30度 = グラフの半分
   - 60度 = グラフ上限
   - 10度以下 = グラフ下部の小さな変動

3. **60度超の判定**
   - グラフが上限に達している場合、タイトルの「Max Error」を確認
   - 例: `Max Error: 140.13°` → 60度を大きく超えている

## ⏱️ 処理時間（変更なし）

- 1座標あたり: 約4秒
- 288座標: 約19分
- 両ディレクトリ合計: 約38分

## ✨ 今すぐ実行可能

すべての変更が完了しているため、すぐに実行できます！

```bash
# Y=0.5,1.5で実行
cd "C:\projects\MOTIONTRACK\Zeval_DataSet\5_max_angle_error\calicuration\Y=0.5,1.5"
python run_plot.py
```

---

**変更完了日**: 2026-01-02  
**修正ファイル数**: 2ファイル  
**変更行数**: 6行（各ファイル3行ずつ）


